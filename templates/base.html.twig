<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>{% block title %}{% endblock %}</title>
        <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 128 128%22><text y=%221.2em%22 font-size=%2296%22>⚫️</text></svg>">
        {% block stylesheets %}
            {{ encore_entry_link_tags('app') }}
        {% endblock %}

        {% block javascripts %}
            {{ encore_entry_script_tags('app') }}
        {% endblock %}
        
    </head>
    <body>
        <div class="side-nav md:block hidden">
            <div class="brand-nav-list">
                <div class="nav-brand">
                    <div class="content-logo">
                        <img class="img-logo-clamp" src="{{ asset('media/logo.png') }}">
                    </div>
                    <div class="content-text-logo">
                        <p class="text-logo"><span>Math Index</span>Lycée Saint-Vincent - Senlis</p>
                    </div>
                </div>
                <div class="container-nav-logout">
                    <nav class="nav-list">

                        {% set routeName = app.request.attributes.get('_route') %}

                        <!--==================
                                item-nav
                        =====================-->
                        {% if routeName == 'home' %}
                        <li class="nav-item-active">
                            <a href="{{ path('home') }}">
                                <img class="img-nav-clamp" src="{{ asset('media/img-home.png') }}">
                                <p class="nav-item-text-active nav-size-clamp">Accueil</p>
                            </a>
                        </li>

                        {% else %}

                        <li class="nav-item">
                            <a href="{{ path('home') }}">
                                <img class="img-nav-clamp" src="{{ asset('media/img-home.png') }}">
                                <p class="nav-item-text nav-size-clamp">Accueil</p>
                            </a>
                        </li>
                        {% endif %}
                        <!--==================
                                end item-nav
                        =====================-->

                        <!--==================
                                item-nav
                        =====================-->

                        {% if routeName == 'recherche' %}
                        <li class="nav-item-active">
                            <a href="{{ path('recherche') }}">
                                <img class="img-nav-clamp" src="{{ asset('media/img-recherche.png') }}">
                                <p class="nav-item-text-active nav-size-clamp">Recherche</p>
                            </a>
                        </li>

                        {% else %}

                        <li class="nav-item">
                            <a href="{{ path('recherche') }}">
                                <img class="img-nav-clamp" src="{{ asset('media/img-recherche.png') }}">
                                <p class="nav-item-text nav-size-clamp">Recherche</p>
                            </a>
                        </li>
                        {% endif %}

                        <!--==================
                                end item-nav
                        =====================-->

                        <!--==================
                                item-nav
                        =====================-->

                        {% if routeName == "mathematique" %}
                        <li class="nav-item-active">
                            <a href="{{ path('mathematique') }}">
                                <img class="img-nav-clamp" src="{{ asset('media/img-maths.png') }}">
                                <p class="nav-item-text-active nav-size-clamp">Mathématique</p>
                            </a>
                        </li>
                        
                        {% else %}

                        <li class="nav-item">
                            <a href="{{ path('mathematique') }}">
                                <img class="img-nav-clamp" src="{{ asset('media/img-maths.png') }}">
                                {% if routeName == 'mathematique' %}
                                <p class="nav-item-text-active nav-size-clamp">Mathématique</p>
                                {% else %}
                                <p class="nav-item-text nav-size-clamp">Mathématique</p>
                                {% endif %}
                            </a>
                        </li>
                        {% endif %}                       
                        
                        <!--==================
                                end item-nav
                        =====================-->

                        {% if is_granted('ROLE_CONTRIBUTEUR') or is_granted('ROLE_ADMIN') %}

                        <!--==================
                                item-nav
                        =====================-->

                        {% if routeName == "exercice" %}
                        <li class="nav-item-active">
                            <a href="{{ path('exercice') }}">
                                <img class="img-nav-clamp" src="{{ asset('media/exercice.png') }}">
                                <p class="nav-item-text-active nav-size-clamp">Mes exercices</p>
                            </a>
                        </li>

                        {% else %}

                        <li class="nav-item">
                            <a href="{{ path('exercice') }}">
                                <img class="img-nav-clamp" src="{{ asset('media/exercice.png') }}">
                                {% if routeName == 'exercice' %}
                                <p class="nav-item-text-active nav-size-clamp">Mes exercices</p>
                                {% else %}
                                <p class="nav-item-text nav-size-clamp">Mes exercices</p>
                                {% endif %}
                            </a>
                        </li>
                        {% endif %}
                                
                        <!--==================
                                end item-nav
                        =====================-->

                        <!--==================
                                item-nav
                        =====================-->

                        {% if routeName == 'soumettre' %}
                        <li class="nav-item-active">
                            <a href="{{ path('soumettre') }}">
                                <img class="img-nav-clamp" src="{{ asset('media/soumettre.png') }}">
                                <p class="nav-item-text-active nav-size-clamp">Soumettre</p>
                            </a>
                        </li>

                        {% else %}
                        
                        <li class="nav-item">
                            <a href="{{ path('soumettre') }}">
                                <img class="img-nav-clamp" src="{{ asset('media/soumettre.png') }}">
                                {% if routeName == 'soumettre' %}
                                <p class="nav-item-text-active nav-size-clamp">Soumettre</p>
                                {% else %}
                                <p class="nav-item-text nav-size-clamp">Soumettre</p>
                                {% endif %}
                            </a>
                        </li>
                        {% endif %}
                        
                        <div class="logout">
                            <li class="nav-item">
                                <a href="{{ path('logout') }}">
                                    <img class="img-nav-clamp" src="{{ asset('media/deconnexion.png') }}">
                                    {% if routeName == 'logout' %}
                                    <p class="nav-item-text-active nav-size-clamp">Déconnexion</p>
                                    {% else %}
                                    <p class="nav-item-text nav-size-clamp">Déconnexion</p>
                                    {% endif %}
                                </a>
                            </li>
                        </div>

                        {% endif %}
                    </nav>
                    

                    <!--==================
                            end item-nav
                    =====================-->
                </div>
            </div>
        </div>
            <header>
                <div class="container-connexion">
                    {% if is_granted ('ROLE_CONTRIBUTEUR') or is_granted('ROLE_ADMIN') %}
                        <div class="profil-username">
                            <p>{{ app.user.getFirstName }} {{ app.user.getLastName }}
                        </div>
                    {% else %}
                        <a href="{{ path('login') }}">
                            <img class="img-nav-clamp" src="{{ asset('media/connexion.png') }}">
                            <p class=" nav-size-clamp">Connexion</p>
                        </a>
                    {% endif %}
                </div>
            </header>
        <section class="flex justify-center md:justify-end">
            <div class="w-11/12 md:mr-10 md:w-9/12">

                {% if routeName == 'home' %}
                    <h1 class="title title-h1-size-clamp">Accueil</h1>
                {% elseif routeName == 'login' %}
                    <h1 class="title title-h1-size-clamp">Connexion</h1>
                {% elseif routeName == 'recherche' %}
                    <h1 class="title title-h1-size-clamp">Rechercher un exercice</h1>
                {% elseif routeName == 'mathematique' %}
                    <h1 class="title title-h1-size-clamp">Mathématique</h1>
                {% elseif routeName == 'exercice' %}
                    <h1 class="title title-h1-size-clamp">Mes exercices</h1>
                {% elseif routeName == 'soumettre' %}
                    <h1 class="title title-h1-size-clamp">Soumettre un exercice</h1>
                {% elseif routeName starts with 'admin_panel_' %}
                    <h1 class="title title-h1-size-clamp">Administration</h1>
                {% endif %}

                {% if routeName starts with 'admin_panel_'%}
                    {% if is_granted('ROLE_ADMIN') %}
                        <div class="content-button">
                            <button class="contributeur">
                                Contributeurs
                            </button>
                            <button class="exercice">
                                Exercices
                            </button>
                            <button class="matiere">
                                Matières
                            </button>
                            <button class="classe">
                                Classes
                            </button>
                            <button class="thematique">
                                Thématiques
                            </button>
                            <button class="compétence">
                                Compétences
                            </button>
                            <button class="origine">
                                Origines
                            </button>
                        </div>
                    {% endif %}
                {% endif %}
                <div>

                </div>

                <div class="content-site">
                    {% block body %}{% endblock %}
                </div>

                <footer>
                    <ul>
                        <li>
                            <a href="https://www.lycee-stvincent.fr/mentions-l%C3%A9gales">Mentions légales</a>
                        </li>
                        <p>&bull;</p>
                        <li>
                            <a href="https://www.lycee-stvincent.fr/infos-pratiques#section-6">Contact</a>
                        </li>
                        <p>&bull;</p>
                        <li>
                            <a href="https://www.lycee-stvincent.fr/accueil">Lycée Saint-Vincent</a>
                        </li>
                    </ul>
                </footer>
            </div>
        </section>
    </body>
</html>
