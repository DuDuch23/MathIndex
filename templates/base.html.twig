<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>{% block title %}{% endblock %}</title>
        <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 128 128%22><text y=%221.2em%22 font-size=%2296%22>⚫️</text></svg>">
        {% block stylesheets %}
            <link href="{{asset('css/base.css')}}" type="text/css" rel="stylesheet" />
        {% endblock %}

        {% block javascripts %}
{% block importmap %}{{ importmap('app') }}{% endblock %}
        {% endblock %}
    </head>
    <body>
    <style>
        h1 {
            display: flex;
            justify-content: center;
        }
    </style>
        <div class="side-nav">
            <div class="brand-nav-list">
                <div class="nav-brand">
                    <div class="content-logo">
                        <img src="{{ asset('media/logo.png') }}">
                    </div>
                    <div class="content-text-logo">
                        <p class="text-logo"><span>Math Index</span>Lycée Saint-Vincent - Senlis</p>
                    </div>
                </div>
                <div class="container-nav-logout">
                    <nav class="nav-list">
                        <li class="nav-item">
                            <a href="{{ path('home') }}">
                                <img src="{{ asset('media/img-home.png') }}">
                                <p>Accueil</p>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="{{ path('recherche') }}">
                                <img src="{{ asset('media/img-recherche.png') }}">
                                <p>Recherche</p>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="{{ path('mathematique') }}">
                                <img src="{{ asset('media/img-maths.png') }}">
                                <p>Mathématique</p>
                            </a>
                        </li>
                        {% if is_granted('ROLE_CONTRIBUTEUR', 'ROLE_ADMIN') %}
                            <li class="nav-item">
                                <a href="{{ path('exercice') }}">
                                    <img src="{{ asset('media/exercice.png') }}">
                                    <p>Mes exercices</p>
                                </a>
                            </li>
                            <li class="nav-item">
                                <a href="{{ path('soumettre') }}">
                                    <img src="{{ asset('media/soumettre.png') }}">
                                    <p>Soumettre</p>
                                </a>
                            </li>
                        {% endif %}
                    </nav>
                    {% if is_granted('ROLE_CONTRIBUTEUR', 'ROLE_ADMIN') %}
                        <div class="logout">
                            <li class="nav-item">
                                <a href="{{ path('logout') }}">
                                    <img src="{{ asset('media/deconnexion.png') }}">
                                    <p class="">Déconnexion</p>
                                </a>
                            </li>
                        </div>
                    {% endif %}
                </div>
            </div>
        </div>
            <header>
                <div class="container-connexion">
                    {% if is_granted ('ROLE_CONTRIBUTEUR', 'ROLE_ADMIN')%}
                        <div class="profil-username">
                            <p>{{ app.user.getFirstName }} {{ app.user.getLastName }}
                        </div>
                    {% else %}
                        <a href="{{ path('login') }}">
                            <img src="{{ asset('media/connexion.png') }}">
                            <p>Connexion</p>
                        </a>
                    {% endif %}
                </div>
            </header>
        <section class="container">
        {% set routeName = app.request.attributes.get('_route') %}
            {% if routeName == 'home' %}
                <h1>Accueil</h1>
            {% elseif routeName == 'login' %}
                <h1>Connexion</h1>
            {% elseif routeName == 'recherche' %}
                <h1>Rechercher un exercice</h1>
            {% elseif routeName == 'mathematique' %}
                <h1>Recherche</h1>
            {% elseif routeName == 'exercice' %}
                <h1>Mes exercices</h1>
            {% elseif routeName == 'soumettre' %}
                <h1>Soumettre un exercice</h1>
            {% elseif routeName == 'admin' %}
                <h1>Administration</h1>
            {% endif %}
            {% block body %}{% endblock %}
        </section>
    </body>
</html>
